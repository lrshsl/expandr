
map module [child] => '
module {
[child]
}
'

map fn [name]() -> [ret] [body] => '
llvm.func @[name]() -> [ret] {
[body]
}
'

map
	return [name] : [type]
=>
	'llvm.return %[name] : [type]'

map
	const [name] : [type] = [value]
=>
	'%[name] = llvm.mlir.constant([value] : [type]) : [type]'

map
	let [name] : [type] = [expr]
=>
	'%[name] = [expr] : [type]'

map math [a] + [b] => 'llvm.add %[a], %[b]'

[module
	[fn 'main'() -> 'i32'
	''
		[const 'a': 'i32' = '10']
		[const 'b': 'i32' = '32']

		[let 'result': 'i32' = [math 'a' + 'b']]

		[return 'result' : 'i32']
	''
	]
]

| vim: ft=exr
